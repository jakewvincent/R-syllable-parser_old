"0","# I want to add columns to indicate which segment has primary or secondary stress."
"0","# To know how many columns to add, let's find out the maximum number of times a word in the dictionary can bear primary stress or secondary stress."
"0","# Make a matrix to save this info in"
"0","stress.freq <- matrix(nrow = nrow(cmudictarpa), ncol = 3)"
"0","for (row in 1:nrow(cmudictarpa)) {"
"0","  stress.freq[row,1] <- paste(cmudictarpa[row,2:ncol(cmudictarpa)], collapse = """")"
"0","}"
"0","colnames(stress.freq) <- c(""stresses"", ""primary.count"", ""secondary.count"")"
"0",""
"0","# Count number of 1's (primary stresses) and 2's (secondary stresses) in the collapsed string"
"0","for (row in 1:nrow(stress.freq)) {"
"0","   str_count(stress.freq[row,1], pattern = ""1"") -> stress.freq[row,2]"
"0","   str_count(stress.freq[row,1], pattern = ""2"") -> stress.freq[row,3]"
"0","}"
"0",""
"0","stress.freq %>% as.data.frame -> stress.freq"
"0",""
"0","# What's the maximum number of primary stresses?"
"0","stress.freq[,2] %>% as.numeric %>% max-1 -> max.prim"
"0",""
"0","# What's the maximum number of secondary stresses?"
"0","stress.freq[,3] %>% as.numeric %>% max-1 -> max.sec"
"0",""
"0","# Add columns for max number of primary stresses"
"0","for (n in 1:max.prim) {"
"0","  eval(parse(text = paste(""mutate(cmudictarpa, pri.stress"", n, "" = NA)"", sep = """"))) -> cmudictarpa"
"0","}"
"0",""
"0","# Add columns for max number of secondary stresses"
"0","for (n in 1:max.sec) {"
"0","  eval(parse(text = paste(""mutate(cmudictarpa, sec.stress"", n, "" = NA)"", sep = """"))) -> cmudictarpa"
"0","}"
